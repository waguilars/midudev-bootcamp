{"version":3,"sources":["Filter.js","Notification.js","PersonForm.js","services/persons.js","Persons.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","setFilter","filter","onChange","e","target","value","Notification","message","type","style","backgroundColor","color","border","padding","hidden","PersonForm","setNewName","setPhoneNumber","newName","phoneNumber","handleSubmit","onSubmit","url","Persons","persons","setPersons","handleDelete","id","person","find","p","window","confirm","name","axios","delete","then","resp","data","PersonService","prev","toLowerCase","includes","map","number","onClick","App","useState","notificationMessage","setNotificationMessage","hideNotification","setHideNotification","notificationType","setNotificationType","useEffect","get","sendNotification","preventDefault","newPerson","some","put","PersonsService","catch","err","response","error","trim","post","msg","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.443e8ee4.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = ({ setFilter, filter = '' }) => {\n  const handleFilter = (e) => setFilter(e.target.value);\n\n  return (\n    <div>\n      <p>\n        Filter shown with <input onChange={handleFilter} value={filter} />{' '}\n      </p>\n    </div>\n  );\n};\n\nexport default Filter;\n","import React from 'react';\n\nconst Notification = ({ message, type = 'success', hidden }) => {\n  const style = {\n    backgroundColor: 'lightgrey',\n    color: type === 'success' ? 'green' : 'red',\n    border: type === 'success' ? '2px solid green' : '2px solid red',\n    padding: 5\n  };\n  return hidden ? null : (\n    <div style={style}>\n      <h2>{message}</h2>\n    </div>\n  );\n};\n\nexport default Notification;\n","import React from 'react';\n\nconst PersonForm = ({\n  setNewName,\n  setPhoneNumber,\n  newName,\n  phoneNumber,\n  handleSubmit,\n}) => {\n  const handleInputName = (e) => setNewName(e.target.value);\n  const handlePhoneNumber = (e) => setPhoneNumber(e.target.value);\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div>\n        name: <input onChange={handleInputName} value={newName} />\n      </div>\n      <div>\n        number: <input onChange={handlePhoneNumber} value={phoneNumber} />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  );\n};\n\nexport default PersonForm;\n","import axios from 'axios';\n\nconst url = 'http://localhost:3001/api/persons';\n\nexport const createNewPerson = ({ name, number }) => {\n  return axios.post(url, { name, number })\n    .then((resp) => {\n      return resp.data;\n    })\n};\n\nexport const getAllPersons = () => {\n  return axios.get(url).then((resp) => {\n    const persons = resp.data;\n    return persons;\n  });\n};\n\nexport const deletePerson = (id) => {\n  return axios.delete(`${url}/${id}`).then((resp) => resp.data);\n};\n\nexport const updatePerson = ({ id, name, number }) => {\n  return axios\n    .put(`${url}/${id}`, { name, number })\n    .then((resp) => resp.data);\n};\n","import React from 'react';\nimport * as PersonService from './services/persons'\n\nconst Persons = ({ persons, filter, setPersons }) => {\n\n  const handleDelete = (id) => {\n    const person = persons.find(p => p.id === id)\n    const confirm = window.confirm(`Delete ${person.name}`)\n    if (confirm) {\n      PersonService.deletePerson(id)\n        .then(() => {\n          setPersons(prev => prev.filter(p => p.id !== id))\n        })\n    }\n  };\n\n  return (\n    <div>\n      {persons\n        .filter((p) => {\n          if (filter) {\n            return p.name.toLowerCase().includes(filter.toLowerCase());\n          }\n          return true;\n        })\n        .map((p) => (\n          <p key={p.name}>\n            {p.name} - {p.number}\n            <button onClick={() => handleDelete(p.id)}>delete</button>\n          </p>\n        ))}\n    </div>\n  );\n};\n\nexport default Persons;\n","import React, { useEffect, useState } from 'react';\nimport Filter from './Filter';\nimport Notification from './Notification';\nimport PersonForm from './PersonForm';\nimport Persons from './Persons';\nimport * as PersonsService from './services/persons';\n\nconst App = () => {\n  const [persons, setPersons] = useState([]);\n  const [newName, setNewName] = useState('');\n  const [phoneNumber, setPhoneNumber] = useState('');\n  const [filter, setFilter] = useState('');\n  const [notificationMessage, setNotificationMessage] = useState(null);\n  const [hideNotification, setHideNotification] = useState(true);\n  const [notificationType, setNotificationType] = useState('success');\n\n  useEffect(() => {\n    PersonsService.getAllPersons().then((persons) => setPersons(persons));\n  }, []);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n\n    const newPerson = { name: newName, number: phoneNumber };\n\n    if (persons.some((p) => p.name === newPerson.name)) {\n      const confirm = window.confirm(\n        `${newPerson.name} is already added to phonebook, replace de old number with the new one.`\n      );\n\n      if (confirm) {\n        const { id } = persons.find((p) => p.name === newPerson.name);\n        PersonsService.updatePerson({ id, ...newPerson })\n          .then((data) => {\n            const message = `${data.name}'s number updated.`;\n            sendNotification(message, 'success');\n            setPersons((prev) => prev.map((p) => (p.id === id ? data : p)));\n          })\n          .catch(err => {\n            // const message = `Information of ${name} has been removed from server.`;\n            const message = err.response.data.error\n            sendNotification(message, 'error');\n          });\n        setNewName('');\n        setPhoneNumber('');\n      }\n      return;\n    }\n\n    if (newName.trim() === '') {\n      return;\n    }\n\n    PersonsService.createNewPerson(newPerson)\n      .then((data) => {\n        const message = `${data.name}'s number added.`;\n        sendNotification(message, 'success');\n        setPersons((prev) => [...prev, data]);\n      })\n      .catch(err => {\n        const msg = err.response.data.error\n        sendNotification(msg, 'error')\n      });\n\n    setNewName('');\n    setPhoneNumber('');\n  };\n\n  const sendNotification = (message, type) => {\n    setNotificationType(type);\n    setNotificationMessage(message);\n    setHideNotification(false);\n  };\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n      <Notification\n        message={notificationMessage}\n        hidden={hideNotification}\n        type={notificationType}\n      />\n      <Filter filter={filter} setFilter={setFilter} />\n\n      <h2>Add a new</h2>\n      <PersonForm\n        handleSubmit={handleSubmit}\n        newName={newName}\n        phoneNumber={phoneNumber}\n        setNewName={setNewName}\n        setPhoneNumber={setPhoneNumber}\n      />\n\n      <h2>Numbers</h2>\n      <Persons filter={filter} persons={persons} setPersons={setPersons} />\n    </div>\n  );\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}